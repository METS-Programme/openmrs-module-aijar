[
  {
    "id": "aijar.registrationapp.registerPatient",
    "instanceOf": "registrationapp.registerPatient",
    "label": "aijar.registrationapp.registerpatient.label",
    "description": "aijar.registrationapp.registerpatient.description",
    "extensions": [
      {
        "id": "aijar.registrationapp.registerPatient.homepageLink",
        "extensionPointId": "org.openmrs.referenceapplication.homepageLink",
        "type": "link",
        "label": "aijar.registrationapp.registerpatient.label",
        "url": "registrationapp/registerPatient.page?appId=aijar.registrationapp.registerPatient",
        "icon": "icon-user",
        "order": 1,
        "requiredPrivilege": "App: registrationapp.registerPatient"
      }
    ],
    "config": {
      "allowUnknownPatients": false,
      "allowRetrospectiveEntry": true,
      "afterCreatedUrl": "/registrationapp/registrationSummary.page?patientId={{patientId}}&appId=aijar.registrationapp.registerPatient",
      "sections": [
        {
          "id": "demographics",
          "label": "aijar.registrationapp.otherdetails",
          "questions": [
            {
              "legend": "aijar.registrationapp.maritalstatus",
              "fields": [
                {
                  "type": "personAttribute",
                  "label": "aijar.registrationapp.maritalstatus.question",
                  "formFieldName": "marital-status",
                  "uuid": "8d871f2a-c2cc-11de-8d13-0010c6dffd0f",
                  "widget": {
                    "providerName": "aijar",
                    "fragmentId": "field/maritalStatus"
                  }
                }
              ]
            },
            {
              "legend": "aijar.registrationapp.nationality",
              "fields": [
                {
                  "type": "personAttribute",
                  "label": "aijar.registrationapp.nationality.question",
                  "formFieldName": "nationality",
                  "uuid": "dec484be-1c43-416a-9ad0-18bd9ef28929",
                  "widget": {
                    "providerName": "aijar",
                    "fragmentId": "field/nationality"
                  }
                }
              ]
            },
            {
              "legend": "aijar.registrationapp.occupation",
              "fields": [
                {
                  "type": "personAttribute",
                  "label": "aijar.registrationapp.occupation.question",
                  "formFieldName": "occupation",
                  "uuid": "b0868a16-4f8e-43da-abfc-6338c9d8f56a",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text"
                  }
                }
              ]
            }

          ]
        },
        {
          "id": "identifiers",
          "label": "aijar.registrationapp.identifier",
          "questions": [
            {
              "legend": "aijar.registrationapp.nationalid",
              "fields": [
                {
                  "type": "patientIdentifier",
                  "label": "aijar.registrationapp.nationalid.question",
                  "formFieldName": "nationalid",
                  "uuid": "f0c16a6d-dc5f-4118-a803-616d0075d282",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "id": "nationalid",
                      "regex": "^$|^[A-Z][FM]\\d{5}([A-Z0-9]){7}$"
                    }
                  },
                  "cssClasses": [
                    "regex"
                  ]
                },{
                  "type": "obs",
                  "label": "aijar.registrationapp.nationalid.confirm",
                  "formFieldName": "confirm_nationalid",
                  "uuid": "dce11ec2-30ab-102d-86b0-7a5022ba4115",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "id": "confirm_nationalid",
                      "regex": "^$|^[A-Z][FM]\\d{5}([A-Z0-9]){7}$"
                    }
                  },
                  "cssClasses": [
                    "regex"
                  ]
                }
              ]
            },
            {
              "legend": "aijar.registrationapp.commonname",
              "fields": [
                {
                  "type": "personAttribute",
                  "label": "Common name",
                  "formFieldName": "commonname",
                  "uuid": "3573b0c9-667a-48d6-862d-d5b8d84ac850",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text"
                  }
                }
              ]
            }
          ]
        },
        {
          "id": "address",
          "label": "aijar.registrationapp.currentaddress",
          "questions":
          [
            {
              "legend": "aijar.registrationapp.currentaddress.question",
              "fields": [
                {
                  "type": "personAddress",
                  "label": "aijar.registrationapp.currentaddress.question",
                  "formFieldName": "patientAddress",
                  "widget": {
                    "providerName": "registrationapp",
                    "fragmentId": "field/personAddressWithHierarchy",
                    "config": {
                      "manualFields": [
                        "address4","address5"
                      ]
                    }
                  }
                }
              ]
            },
            {
              "legend": "aijar.registrationapp.contactinformation",
              "fields": [
                {
                  "type": "personAttribute",
                  "label": "aijar.registrationapp.phonenumber.question",
                  "formFieldName": "phoneNumber",
                  "uuid": "14d4f066-15f5-102d-96e4-000c29c2a5d7",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "regex": "^[0-9]{10}$|^$"
                    }
                  },
                  "cssClasses": [
                    "number", "regex"
                  ]
                },
                {
                  "type": "personAttribute",
                  "label": "aijar.registrationapp.father.question",
                  "formFieldName": "father",
                  "uuid": "63535ca9-bb53-4a46-a14b-831788c25c10",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text"
                  }

                },
                {
                  "type": "personAttribute",
                  "label": "aijar.registrationapp.mother.question",
                  "formFieldName": "mother",
                  "uuid": "8d871d18-c2cc-11de-8d13-0010c6dffd0f",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text"
                  }

                },
                {
                  "type": "personAttribute",
                  "label": "aijar.registrationapp.caregiver.question",
                  "formFieldName": "caregiver",
                  "uuid": "e493f4ec-51f1-4a77-8d3c-5791f8cb02cd",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text"
                  }
                },
                {
                  "type": "personAttribute",
                  "label": "aijar.registrationapp.caregivernumber.question",
                  "formFieldName": "phoneNumber3",
                  "uuid": "553834ef-b3fe-4c79-826a-6d4b6978bcff",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "regex": "^[0-9]{10}$|^$"
                    }
                  },
                  "cssClasses": [
                    "number", "regex"
                  ]
                },
                {
                  "type": "personAttribute",
                  "label": "Land Mark Feature ",
                  "formFieldName": "landmark",
                  "uuid": "56aef1a8-e4ef-476a-9998-9d2d67c3b01e",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text"
                  }
                }
              ]
            },
            {
              "legend": "aijar.registrationapp.relationship",
              "fields": [
                {
                  "type": "Relationship",
                  "label": "RelationShips",
                  "formFieldName": "Relationship",
                  "widget": {
                    "providerName": "registrationapp",
                    "fragmentId": "field/personRelationship"
                  }
                }
              ]
            }
          ]
        }
      ]
    }
  }
]